{"id": 237100937, "updated": "2022-08-25 14:15:13.158", "metadata": {"title": "The Traveling Tournament Problem with Maximum Tour Length Two: A Practical Algorithm with An Improved Approximation Bound", "authors": "[{\"first\":\"Jingyang\",\"last\":\"Zhao\",\"middle\":[]},{\"first\":\"Mingyu\",\"last\":\"Xiao\",\"middle\":[]}]", "venue": "Proceedings of the Thirtieth International Joint Conference on Artificial Intelligence", "journal": "Proceedings of the Thirtieth International Joint Conference on Artificial Intelligence", "publication_date": {"year": 2021, "month": null, "day": null}, "abstract": "The Traveling Tournament Problem is a wellknown benchmark problem in tournament timetabling, which asks us to design a schedule of home/away games of n teams (n is even) under some feasibility requirements such that the total traveling distance of all the n teams is minimized. In this paper, we study TTP-2, the traveling tournament problem where at most two consecutive home games or away games are allowed, and give an effective algorithm for n/2 being odd. Experiments on the well-known benchmark sets show that we can beat previously known solutions for all instances with n/2 being odd by an average improvement of 2.66%. Furthermore, we improve the theoretical approximation ratio from 3/2 + O(1/n) to 1 + O(1/n) for n/2 being odd, answering a challenging open problem in this area.", "fields_of_study": "[\"Computer Science\"]", "external_ids": {"arxiv": null, "mag": null, "acl": null, "pubmed": null, "pubmedcentral": null, "dblp": "conf/ijcai/ZhaoX21", "doi": "10.24963/ijcai.2021/578"}}, "content": {"source": {"pdf_hash": "0d85f0606f57a85e8887bcd6a038a773bfcb1c15", "pdf_src": "Anansi", "pdf_uri": "[\"https://www.ijcai.org/proceedings/2021/0578.pdf\"]", "oa_url_match": true, "oa_info": {"license": null, "open_access_url": "https://www.ijcai.org/proceedings/2021/0578.pdf", "status": "BRONZE"}}, "grobid": {"id": "7a6cb5ef66dc440f8a623830e21500329b49c2ca", "type": "plain-text", "url": "s3://ai2-s2-pdf-extraction-prod/parse-results/s2orc_worker/0d85f0606f57a85e8887bcd6a038a773bfcb1c15.txt", "contents": "\nThe Traveling Tournament Problem with Maximum Tour Length Two: A Practical Algorithm with An Improved Approximation Bound\n\n\nJingyang Zhao \nUniversity of Electronic Science\nTechnology of China\n\nMingyu Xiao myxiao@gmail.com \nUniversity of Electronic Science\nTechnology of China\n\nThe Traveling Tournament Problem with Maximum Tour Length Two: A Practical Algorithm with An Improved Approximation Bound\n\nThe Traveling Tournament Problem is a wellknown benchmark problem in tournament timetabling, which asks us to design a schedule of home/away games of n teams (n is even) under some feasibility requirements such that the total traveling distance of all the n teams is minimized. In this paper, we study TTP-2, the traveling tournament problem where at most two consecutive home games or away games are allowed, and give an effective algorithm for n/2 being odd. Experiments on the well-known benchmark sets show that we can beat previously known solutions for all instances with n/2 being odd by an average improvement of 2.66%. Furthermore, we improve the theoretical approximation ratio from 3/2 + O(1/n) to 1 + O(1/n) for n/2 being odd, answering a challenging open problem in this area.\n\nIntroduction\n\nThe Traveling Tournament Problem (TTP), an interesting sports scheduling problem inspired by Major League Baseball, was first systematically introduced in [Easton et al., 2001], and then followed in a large amount of references [Kendall et al., 2010;Rasmussen and Trick, 2008;Thielen and Westphal, 2012;Xiao and Kou, 2016]. This problem is to find a double round-robin tournament satisfying some constraints that minimizes the total distances traveled by all participant teams. In a double round-robin tournament of n teams, each team will play 2 games with each of the other n \u2212 1 teams, one at its home venue and one at its opponent's home venue. Furthermore, all the games should be scheduled in 2(n\u22121) consecutive days. Such all terms will play on each day and there are exactly n/2 games on each day. According to the definition, we know that n is always even. For TTP, we have the following two basic constraints or assumptions on the double round-robin tournament.\n\n\u2022 no-repeat: A team cannot play against the same opponent in two consecutive games. \u2022 direct-traveling: A team travels directly from its game venue in the ith day to its game venue in the (i + 1)th * Contact Author day, where we assume that all teams are at home in the 0th day and the (2n\u22121)th day, i.e., all teams are initially at home and will come back to home after all the games.\n\nA frequently studied version of TTP, denoted by TTP-k, is to add the following constraint on the maximum number of consecutive home games and away games.\n\n\u2022 bounded-by-k: No team have a home stand or a road trip lasting more than k games.\n\nThe smaller the value of k, the more often teams have to return to their home venues. The input of TTP or TTP-k contains an n \u00d7 n distance matrix D to indicate the distance between each pair of the n teams. We will use D i,j to denote the distance from the home of team i to the home of team j. We also assume that D satisfies the symmetry and triangle inequality properties, i.e.,D i,j = D j,i and D i,j \u2264 D i,h + D h,j for all i, j, h. We let D i,i = 0 for each i.\n\n\nRelated Work\n\nTTP and TTP-k are difficult optimization problems. The NPhardness of TTP and TTP-3 was proved in [Bhattacharyya, 2016;Thielen and Westphal, 2011]. Since the search space of TTP and TTP-k are usually very large, many instances with more than 10 teams in the online benchmark [Trick, 2021] have not been completely solved even by using highperformance machines. In the literature there is a large number of contributions on approximation algorithms [Yamaguchi et al., 2011;Imahori et al., 2014;Miyashiro et al., 2012;Westphal and Noparlik, 2014;Hoshino and Kawarabayashi, 2013;Thielen and Westphal, 2012;Xiao and Kou, 2016] and heuristic algorithms [Easton et al., 2003;Lim et al., 2006;Anagnostopoulos et al., 2006;Di Gaspero and Schaerf, 2007;Goerigk et al., 2014].\n\nIn this paper, we will focus on TTP-2. In a sports schedule, it is generally believed that home stands and road trips should alternate as regularly as possible for each team [Campbell and Chen, 1976;Thielen and Westphal, 2012]. However, there is no feasible schedule for k = 1 [de Werra, 1988], and then TTP-2 becomes especially interesting. The first record of TTP-2 seems from the schedule of a basketball conference of ten teams in [Campbell and Chen, 1976]. It is easy to verify that any feasible schedule for TTP-2 is a 2-approximation solution [Thielen and Westphal, 2012]. So any feasible solution will not have a very bad performance. However, we do not know any simple construction of feasible solutions. Even the scheduling algorithms for n/2 being even and odd may be different. Thielen and Westphal [2012] proposed two scheduling methods and proved an approximation ratio of 3/2 + O(1/n) for n/2 being odd and an approximation ratio of 1 + O(1/n) for n/2 being even. The current best approximation ratio for n/2 being even is (1 + 4/n) by Xiao and Kou [2016]. Whether TTP-2 with n/2 being odd allows an approximation ratio 1 + O(1/n) became a challenging problem [Thielen and Westphal, 2012;Xiao and Kou, 2016].\n\n\nOur Results\n\nIn this paper, we design an effective algorithm for TTP-2 with n/2 being odd. In theory, we prove an approximation ratio of (1 + 8 n + 4 n\u22122 ), significantly improving the previous result of (3/2 + 6 n\u22124 ). This is the first (1 + O(1/n))-approximation algorithm known so far and it answers the open problem in [Thielen and Westphal, 2012] positively. In practice, our algorithm is easy to implement and runs very fast. Experiments show that our algorithm can solve all the 16 tested instances in the benchmark [Trick, 2021] with n \u2265 10 and n \u2261 2 (mod 4) very quickly by providing better solutions with an average improvement of 2.66%.\n\n\nNotations\n\nWe always use n to denote the number of teams in the problem. In this paper, we assume that n \u2261 2 (mod 4) and n \u2265 10. We let m = n/2. Then m is also an integer. We use G to denote the complete graph on the n vertices representing the n teams, and the weight of the edge between two vertices t i and t j is D i,j the distance from the home of t i to the home of t j . We also use D i to denote the weight sum of all edges incident on t i in G, i.e., D i = n j=1 D i,j . The sum of all edge weights of G is denoted by D G . We let M denote a minimum perfect matching in G. The weight sum of all edges in M is denoted by D M . We may consider the endpoint pair of each edge in M as a super-team. We use H to denote the complete graph on the m vertices representing the m super-teams. The weight of the edge between two super-teams u i and u j , denoted by D(u i , u j ), is the sum of the weight of the four edges in G between one team in u i and one team in u j , i.e., D(u i , u j ) = t i \u2208ui&t j \u2208uj D i ,j . We also let D(u i , u i ) = 0 for any i. We give an illustration of the graphs G and H in Figure 1.\n\nIn TTP and TTP-k problems, each team t i will visit each other team once in the tournament. For each team, a routing visiting each other team exactly once (starting at its home and coming back home last) is called an itinerary of the team. A road trip in an itinerary of team t i is a simple cycle starting and ending at t i . So an itinerary consists of several road trips. For TTP-2, an itinerary is feasible if each road trip of it is a cycle of length at most 3 (containing at most two other teams).\n\nFor two teams t i and t j , we may use a directed edge from t i to t j to denote a game between t i and t j taking place at the home of t j . \n\n\nA Lower Bound\n\nFirst we consider a lower bound on the total traveling distance of a single team. The bound is called the independent lower bound and was firstly introduced by Campbell and Chen [1976]. Here 'independent' means we only consider the traveling of the single team and do not consider the feasibility of other teams. In the itinerary of one team, if there are two away trips of a single game, then we may be able to combine the two away trips into one away trip of a pair of games without increasing the traveling distance by the triangle inequality. Note that n is even and the optimal itinerary of a team must contain exactly one away trip of a single game (other away trips contain two games). The optimal itinerary graph of a team t i may look like the graph in Figure 2. Team t i must travel to or from each other team at least once, which are denoted by light lines in Figure 2. The weight sum of all light lines is j =i D i,j = D i . The remaining dark lines in Figure 2 form a perfect matching of the graph G. Recall that we use M to denote a minimum perfect matching of G. Then the weight sum of all dark lines is at most D M . The independent lower bound for team t i is\nLB i = D i + D M .(1)\nThe independent lower bound for TTP-2 is\nLB = n i=1 LB i = n i=1 (D i + D M ) = 2D G + nD M .(2)\nFor any team, it is possible to get its independent lower bound. The itinerary of a team is called perfect if the distance of it achieves the independent lower bound. However, not all teams may reach perfect itineraries synchronously in a feasible schedule [Thielen and Westphal, 2012]. So the independent lower bound for TTP-2 is not achievable.\n\n\nAn Upper Bound\n\nNext, we consider a simple upper bound on the traveling distance of any feasible solution. By the triangle inequality, we can easily see that Lemma 1. The traveling distance of any itinerary of a team t i is at most 2D i .\n\nLemma 1 says that the worst itinerary consisting of only road trips of one game. Lemma 1 and (1) imply that Lemma 2. The traveling distance of any feasible itinerary of a team t i is at most the traveling distance of the optimal itinerary plus D i .\n\nNote that D i \u2264 LB i . We get that Theorem 1. Any feasible schedule for TTP-2 is a 2approximation solution.\n\nIndeed, Theorem 1 was first proved in [Thielen and Westphal, 2012]. We repeat this result in detail because we need to use Lemma 2 in our analysis.\n\n\nConstruction of The Tournament\n\nTo get a good theory bound and good performance, we will try to design a feasible schedule such that the itinerary of each team is similar to the perfect itinerary as much as possible.\n\nIt is not easy to find a simple feasible schedule for TTP-2. Compared with known feasible schedules, our schedule is not very complicated. However, our schedule will be slightly different for n \u2261 2 (mod 8) and n \u2261 6 (mod 8). We will describe the algorithm for the case of n \u2261 2 (mod 8). For the case of n \u2261 6 (mod 8), only some edges will have different directions. These edges will be denoted by dash lines and we will explain them.\n\nWe regard each pair of teams in the minimum perfect matching M of G as a super-team, and first arrange games between super-teams. There are n teams and then there are m super-teams. We denote the super-teams as {u 1 , u 2 , . . . , u m\u22121 , u m }. We relabel the n teams such that u i = {t 2i\u22121 , t 2i } for each i. For the sake of presentation, we will also denote u l = u m\u22121 (resp., u r = u m ), and denote the two teams in u l as {t l1 , t l2 } (resp., the two teams in u r as {t r1 , t r2 }).\n\nWe first arrange super-games between super-teams u i and then we will extend super-games to normal games between normal teams t i .\n\nEach super-team will attend m \u2212 1 super-games in m \u2212 1 time slots. Each super-game in the first m \u2212 2 time slots will be extended to four normal games between normal teams, and each super-game in the last time slot will be extended to six normal games between normal teams. So each normal team t i will attend 4\u00d7(m\u22122)+6 = 4m\u22122 = 2n\u22122 games. This is the number of games each team t i should attend in TTP-2.\n\nWe first design the super-games between super-teams in the first m \u2212 2 time slots, and then consider super-games in the last time slot. In each of the first m \u2212 2 time slots, we have m\u22121 2 super-games (note that m is odd), where one supergame involves three super-teams and all other super-games involve two super-teams. In the first slot, the m\u22121 2 supergames are arranged as shown in Figure 3. The most left supergame involving super-team u l is called the left super-game, and the most right super-game involving u r is called the right super-game. The right super-game is the only super-game involving three super-teams. The other m\u22121 2 \u2212 2 super-games are called middle super-games. There are also directed edges in the super-games, which will be used to extend super-games to normal games. The schedules for the first m \u2212 2 slots are derived analogously. Next, we explain how to extend the super-games in these slots to normal games. Case 1: Middle super-games. We first consider middle super-games, each of which will be extended to four normal games in four days. Assume that in a middle supergame, team u i plays against the team u j on time slot q, 1 \u2264 i, j, q \u2264 m \u2212 2. Recall that u i represents normal teams {t 2i\u22121 , t 2i } and u j represents normal teams {t 2j\u22121 , t 2j }. The super-game will be extended to eight normal games in four corresponding days from 4q \u2212 3 to 4q, as shown in Figure 5. Case 2: Left super-games. Assume that in a left supergame, team u l plays against team u i on time slot q, 1 \u2264 i, q \u2264 m \u2212 2. Recall that u l represents normal teams {t 2m\u22123 , t 2m\u22122 } and u i represents normal teams {t 2i\u22121 , t 2i }. The super-game will be extended to eight normal games in four corresponding days from 4q \u2212 3 to 4q, as shown in Figure 6 for odd time slot q. For even time slot q, the direction of edges in the figure will be reversed. Case 3: Right super-games. Assume that in a right supergame, three teams u i , u i\u22121 and u r play on time slot q, 1 \u2264 i, q \u2264 m \u2212 2 and u 0 = u m\u22122 . Recall that u r represents normal teams {t 2m\u22121 , t 2m }. The super-game will be extended to twelve normal games in four corresponding days from 4q \u2212 3 to 4q, as shown in Figure 7. Note that the edges between three teams are dash edges (see Figures 3 and 4). So for the case of n \u2261 6 (mod 8), the direction of these three edges should be reversed. So Figure 7 describes the case of odd time slot q with n \u2261 2 (mod 8) and the case of even time slot q with n \u2261 6 (mod 8). For the case of odd time slot q with n \u2261 2 (mod 8) and the case of even time slot q with n \u2261 6 (mod 8), the direction of all edges in the figure will be reversed. The first m\u22122 slots will be extended to 4(m\u22122) = 2n\u22128 days according to the above rules. Each team will have six remaining games, which will be scheduled in the last time slot. Two remaining games are self-games, which is to play against the team in the same super-team. For teams in u l and u r , the other four remaining games are between the teams in u l and u r . For teams in the other super-teams u i , two remaining games should be played against a team in super-team u i\u22121 and two remaining games should be played against a team in super-team u i+1 , such as the two missing games between t 2i\u22123 and t 2i in Figure 7. Figure 8 shows the six remaining games for teams in u i (i \u2208 {1, 2, . . . , m \u2212 2}), and Figure 9 shows the six remaining games for teams in u l and u r . The last slot. Now we are ready to design the six days of games for the last slot. We use self to denote one day of selfgames: for each super-team u i , team t 2i\u22121 plays against team Figure 9: The six remaining games for teams in u l and ur t 2i at the home of t 2i . We will also use self to denote the day of games with the reversed direction in self , i.e., the partner is the same but the game site change to the other team's home. We also design two days of games A 1 and A 2 as shown in Figures 10 and 11. Then we can see that the other four days of games left are given by A 1 , A 2 , A 1 , A 2 . Note that in A 1 , A 2 , A 1 , and A 2 we will have three dash edges, which will be reversed for the case of n \u2261 6 (mod 8). Next, we need to order the six days {self, self , A 1 , A 2 , A 1 , A 2 } to joint the previous 2n\u22128 days without violating the bounded-by-k and no-repeat constraints. It will be different for the two cases of n \u2261 2 (mod 8) and n \u2261 6 (mod 8). For n \u2261 2 (mod 8), the six days are arranged in the order: A 1 , self, A 2 , self , A 2 , A 1 ; For n \u2261 6 (mod 8), the six days are arranged in the order: A 2 , self , A 1 , self, A 1 , A 2 .\n\nWe have described the main part of the scheduling algorithm. Next, we will prove its feasibility. Theorem 2. For TTP-2 with n teams such that n \u2265 10 and n \u2261 2 (mod 4), the above construction can generate a feasible schedule.\n\nProof. First, we show that each team plays all the required 2n \u2212 2 games in the 2n \u2212 2 days. According to the schedule, we can see that each team will attend one game in each of the 2n \u2212 2 days. Furthermore, it is not hard to observe that no two teams play against each other at the same place. So each team will play the required 2n \u2212 2 games.\n\nSecond, it is easy to see that each team will not violate the no-repeat property. In any time slot, no two games between the same teams are arranged in two consecutive days. For two different time slots, each team will play against different teams. Especially, self and self are not arranged as two consecutive days in the last time slot.\n\nLast, we prove that each team does not violate the bounded-by-k property. We will use 'H' and 'A' to denote a home game and an away game, respectively. We will also let H = A and A = H.\n\nWe first look at the games in the first 2n \u2212 8 days. For the two teams in u l , the 4 games in an odd time slot will be HAAH (see Figure 6), and the 4 games in an even time slot will be AHHA. So two consecutive time slots can be jointed well. For the two teams in u r , the 4 games will be HAAH or HAAH in an odd time slot and reversed in an even time slot. Two consecutive time slots can still be jointed well. Next, we consider a team t i in u j (j \u2208 {1, 2, . . . , m \u2212 2}). In the time slots for middle super-games, the 4 games will be AAHH if the direction of the edge (super-game) is toward u j and AAHH otherwise. In the time slots for left supergames, the 4 games will be AHHA or AHHA. In the time slots for right super-games, the 4 games will be AAHH or AAHH. According to our schedule, two consecutive time slots can joint well, no matter they are two slots for middle super-games, or one slot for middle super-game and one slot for left super-game, or one slot for middle super-game and one slot for right super-game.\n\nWe have the last 6 days in the last time slot not analyzed yet. For the sake of presentation, we just list out the last 10 games in the last two time slots for each team. We will have five different cases: teams in u l , u r , u 1 , u 0 for odd o \u2208 {3, . . . , m \u2212 2}, and u e for even e \u2208 {2, . . . , m \u2212 2}. The reason why u 1 is different from other u o with an odd subscript o is that in the penultimate time slot, u 1 plays with u l , and then it has a different form of games. For the case of n \u2261 2 (mod 8), the last 10 games are shown in Figure 12, and for the case of n \u2261 6 (mod 8), the last 10 games are shown in Figure 13. We can see that there are no three consecutive home games or away games. So the bounded-by-k property holds. Since our schedule satisfies the above three conditions, we know that our schedule is a feasible schedule for TTP-2. Note that our schedule requires at least 10 teams. So we have n \u2265 10.\n\n\nAnalyzing Approximation Quality\n\nNext, we analyze the theoretical approximation bound of our schedule. We compare the itinerary of each team in our schedule with the perfect itinerary and use \u2206 i to denote the difference between them for each team i. Then we only need to evaluate a bound for n i=1 \u2206 i . We first introduce the framework of our proof idea. For team t i with 1 \u2264 i \u2264 n \u2212 4 in a white super-team u j in Figure 3, only its trips to the nine teams in u l \u222a u r \u222a u j\u22121 \u222a u j \u222a u j+1 \\ {t i } may be different from that in the perfect itinerary. By Lemma 2, we know that the distance of this part in our schedule will be at most that in the perfect itinerary plus the nine distances from t i to the nine teams. On average, each team t i will use an extra distance of about 9/n of the independent low bound LB i . For teams t i (i \u2208 {1, 2, . . . , n\u2212 4}), the total extra distance will be bounded by about 9/n of LB. For the other four teams t i (i \u2208 {n\u22123, n\u22122, n\u22121, n}) in the two super-teams u l and u r , their itineraries may be totally different from the perfect itineraries. However, by Lemma 2, we know that the extra distance for t i is most LB i . We will set the four teams with the minimum value LB i . Then the extra distance given by the four teams is at most 4/n of LB. Thus, we get an approximation ratio of about (1 + 13/n). Next, we give a more detailed analysis and show a refined ratio of (1 + 12/n) indeed.\n\nFirst, we consider the four teams {t n\u22123 , t n\u22122 , t n\u22121 , t n } in the two super-teams u l and u r . By Lemma 2, we directly get that\n\u2206 i \u2264 LB i for each i \u2208 {n \u2212 3, n \u2212 2, n \u2212 1, n}.(3)\nSecond, we consider the n \u2212 4 teams t i in super-teams u j (j \u2208 {1, 2, . . . , m \u2212 2}). We look at two super-teams u i1 and u i2 , where 1 \u2264 i 1 , i 2 \u2264 m \u2212 2 and |i 1 \u2212 i 2 | \u2265 2. The games between the two super-teams will be the form of middle super-games in Case 1. A team in u i1 (resp., u i2 ) will visit the two teams in u i2 (resp., u i1 ) in one road trip, which is also a road trip in the perfect itinerary. Comparing with the perfect itinerary for a team t i \u2208 u j (i \u2208 {1, 2, . . . , n \u2212 4}, and j = i/2 ), only the trips to visit the nine teams in u l \u222a u r \u222a u j\u22121 \u222a u j \u222a u j+1 \\ {t i } may be different. See the comparison for t 3 as an example in Figure 14. By Lemma 2, we know that\n\nClaim. For each t i \u2208 u j (i \u2208 {1, 2, . . . , n \u2212 4}, and j = i/2 ), \u2206 i is bounded by the sum of the distances from t i to the nine teams in u l \u222a u r \u222a u j\u22121 \u222a u j \u222a u j+1 \\ {t i }.\n\nRecall that for two super-games u i and u j , we use D(u i , u j ) to denote the sum of the four distances between teams t p \u2208 u i and t q \u2208 u j . By the above claim, we get that\nn\u22124 i=1 \u2206 i \u2264 n i=n\u22123 LB i + 2 m\u22122 i=1 D(u i\u22121 , u i ),(4)\nwhere u 0 is interpreted as u m\u22122 . Next, we reorder the teams to get good bounds for\nB 1 = n i=n\u22123 LB i and B 2 = m\u22122 i=1 D(u i\u22121 , u i ). Since LB = m i=1 (LB 2i\u22121 + LB 2i )\n, we can choose u l and u r such that\nB 1 = n i=n\u22123 LB i \u2264 2 m LB = 4 n LB.(5)\nNext, we choose an order of u i to make B 2 as small as possible. Recall that H is the complete graph on the m super-teams u i . We decompose the complete graph H into (m \u2212 1)/2 edge-disjoint Hamilton cycles by using the wellknown decomposition algorithm in [Alspach et al., 1990] and let C be one Hamilton cycle among them having the minimum length. Then we reorder u i such that u 1 u 2 . . . u m\u22122 is a part of the Hamilton cycle C. Therefore, by the triangle inequality, we get\nB 2 = m\u22122 i=1 D(u i\u22121 , u i ) \u2264 2 m \u2212 1 D H \u2264 2 n \u2212 2 LB.(6)\nBy (3)- (6), we get that\nn i=1 \u2206 i \u2264 2 n i=n\u22123 LB i + 2 m\u22122 i=1 D(u i\u22121 , u i ) = 2B 1 + 2B 2 \u2264 ( 8 n + 4 n \u2212 2 )LB.\nTheorem 3. There is a polynomial-time (1 + 8 n + 4 n\u22122 )approximation algorithm for TTP-2 with n teams, where n \u2265 10 and n \u2261 2 (mod 4).\n\n\nExperimentations\n\nTo test the experimental performance, we will also use one more local-search trick. Note that after getting a feasible schedule by the above algorithm, we can get more feasible schedules by only changing the positions of the teams. In the experiments, we use two local-search rules to check better solutions: swap between two super-teams and swap between two teams in each super-team. This will lead O(m 3 ) loops, and then the running-time bound will increase a factor of m 3 .\n\nWe implement our algorithm to solve the benchmark instances in [Trick, 2021]. The website introduces 62 instances, most of which were reported from real-world sports scheduling scenarios, such as the Super 14 Rugby League, the National Football League, and the 2003 Brazilian soccer championship. The number of teams in the instances varies from 4 to 40. We can solve all the 23 instances of n teams with n \u2265 10 and n \u2261 2 (mod 4), in which 7 instances are very  [Thielen and Westphal, 2012], 'Our Results' shows the results given by our schedule algorithm after local search, and 'Improvement Ratio' is defined as P revious Results \u2212 Our Results\n\n\nP revious Results\n\n. From this table, we can see that our scheduling improves 15 out of 16 instances. The average improvement on the 16 instances is 2.66%. Our algorithm is also fast. On a standard laptop with a 2.30GHz Intel(R) Core(TM) i5-6200 CPU and 8 GB RAM, all the 16 instances can be solved together within 0.1 seconds before applying local search and within 30 seconds including local search.\n\n\nConclusion\n\nWe have designed an algorithm to generate a feasible solution to TTP-2 with n \u2261 2 (mod 4), which can guarantee the traveling distance at most (1 + 8 n + 4 n\u22122 ) times of the optimal. This is the first (1 + O( 1 n ))-approximation algorithm for TTP-2 with n \u2261 2 (mod 4). The algorithm is also very practical. Experimental results show that our algorithm can beat best-known solutions for almost all instances with n \u2265 10 and n \u2261 2 (mod 4) in the well-known benchmark. Furthermore, we are able to get further improvements by using a simple local-search method. In the experiments, we only consider exchanges between two teams (or super-teams) each time. We may be able to get more improvements by considering exchanges among three or more teams. However, the running time will increase dramatically and the improvement is very limited.\n\nFigure 1 :\n1An illustration of graphs G and H, where the four dark lines form a minimum perfect matching M in G 3 Simple Lower and Upper Bounds\n\nFigure 2 :\n2the itinerary graph of team ti\n\nFigure 3 :Figure 4 :\n34Schedule at the first slot Note that the white nodes (super-teams u 1 , . . . , u m\u22122 ) inFigure 3form a cycle u 1 u 2 . . . u m\u22122 . In the second slot, super-games are scheduled as shown inFigure 4. we change the positions of white super-teams in the cycle by moving one position in the clockwise direction, and also change the direction of each edge. The positions of u l and u r will always be fixed. Schedule at the Second slot\n\nFigure 5 :\n5A directed edge from team t i to team t i means t i plays against t i at the home of t i . Note that if there is a directed edge from u j to u i , then the direction of all the edges inFigure 5should be reversed. Middle super-games\n\nFigure 6 :\n6Left super-games\n\nFigure 7 :\n7Right super-games\n\nFigure 8 :\n8The six remaining games for teams in ui (i = l, r)\n\nFigure 10 :Figure 11 :\n1011The The day A2\n\nFigure 12 : 2 Figure 13 :\n12213The last 10 games for the case of n \u2261 The last 10 games for the case of n \u2261 6 (mod 8)\n\nFigure 14 :\n14The perfect itinerary and our itinerary of t3: the lower parts are the same and the upper parts of the trips to the nine teams are different\n\nTable 1 :\n1Experimental results special (all teams are in a cycle or all distance between pairs of teams are 1) and not tested in previous papers. For the remaining 16 instances, we compare our results with the bestknown results in Table 1. In the table, the column 'Lower Bound' indicates the independent lower bounds, 'Previous Results' lists previous known results inData Lower Previous \nOur Improvement \nSets Bounds Results Results \nRatio(%) \nGalaxy38 244848 274672 262657 \n4.37 \nGalaxy34 173312 192317 185347 \n3.62 \nGalaxy30 113818 124011 122628 \n1.12 \nGalaxy26 68826 \n77082 \n75538 \n2.00 \nGalaxy22 40528 \n46451 \n45360 \n2.35 \nGalaxy18 23774 \n27967 \n27467 \n1.79 \nGalaxy14 12950 \n15642 \n15622 \n0.13 \nGalaxy10 \n5280 \n6579 \n6506 \n1.11 \nNFL30 951608 1081969 1038902 \n3.98 \nNFL26 669782 779895 745595 \n4.40 \nNFL22 504512 600822 574028 \n4.46 \nNFL18 361204 439152 423326 \n3.60 \nNL14 238796 296403 289323 \n2.39 \nNL10 70866 \n90254 \n87842 \n2.67 \nSuper14 823778 1087749 1019941 \n6.23 \nSuper10 392774 579862 589512 \n-1.66 \n\n\nProceedings of the Thirtieth International Joint Conference on Artificial Intelligence \nAcknowledgmentsThe work is supported by the National Natural Science Foundation of China, under grants 61972070.Proceedings of the Thirtieth International Joint Conference on Artificial Intelligence\nAris Anagnostopoulos, Laurent Michel, Pascal Van Hentenryck, and Yannis Vergados. A simulated annealing approach to the traveling tournament problem. Alspach , Cycles and rays. Campbell and Chen9Journal of SchedulingReferences [Alspach et al., 1990] Brian Alspach, J-C Bermond, and Do- minique Sotteau. Decomposition into cycles i: Hamilton decompositions. In Cycles and rays, pages 9-18. Springer, 1990. [Anagnostopoulos et al., 2006] Aris Anagnostopoulos, Lau- rent Michel, Pascal Van Hentenryck, and Yannis Verga- dos. A simulated annealing approach to the traveling tour- nament problem. Journal of Scheduling, 9(2):177-193, 2006. [Bhattacharyya, 2016] Rishiraj Bhattacharyya. Complexity of the unconstrained traveling tournament problem. Oper- ations Research Letters, 44(5):649-654, 2016. [Campbell and Chen, 1976] Robert Thomas Campbell and Der-San Chen. A minimum distance basketball scheduling problem. Management science in sports, 4:15-26, 1976.\n\nSome models of graphs for scheduling sports competitions. Werra ; Dominique De Werra, Discrete Applied Mathematics. 211Werra, 1988] Dominique de Werra. Some models of graphs for scheduling sports competitions. Discrete Ap- plied Mathematics, 21(1):47-65, 1988.\n\nSolving the travelling tournament problem: a combined integer programming and constraint programming approach. Di Gaspero, Di Schaerf ; Luca, Andrea Gaspero, ; Schaerf, Easton, 41st International Symposium on Mathematical Foundations of Computer Science, MFCS 2016. Piotr Faliszewski, Anca Muscholl, and Rolf NiedermeierKrak\u00f3w, Poland; Shinji Imahori, Ryuhei MiyashiroWestphal and Noparlik13Proceedings of the Thirtieth International Joint Conference on Artificial Intelligence. IJCAI-21Di Gaspero and Schaerf, 2007] Luca Di Gaspero and An- drea Schaerf. A composite-neighborhood tabu search ap- proach to the traveling tournament problem. Journal of Heuristics, 13(2):189-207, 2007. [Easton et al., 2001] Kelly Easton, George Nemhauser, and Michael Trick. The traveling tournament problem: de- scription and benchmarks. In 7th International Confer- ence on Principles and Practice of Constraint Program- ming, pages 580-584, 2001. [Easton et al., 2003] Kelly Easton, George Nemhauser, and Michael Trick. Solving the travelling tournament prob- lem: a combined integer programming and constraint pro- gramming approach. In 4th International Conference of Practice and Theory of Automated Timetabling IV, pages 100-109, 2003. [Goerigk et al., 2014] Marc Goerigk, Richard Hoshino, Ken Kawarabayashi, and Stephan Westphal. Solving the travel- ing tournament problem by packing three-vertex paths. In Twenty-Eighth AAAI Conference on Artificial Intelligence, pages 2271-2277, 2014. [Hoshino and Kawarabayashi, 2013] Richard Hoshino and Ken-ichi Kawarabayashi. An approximation algorithm for the bipartite traveling tournament problem. Mathematics of Operations Research, 38(4):720-728, 2013. [Imahori et al., 2014] Shinji Imahori, Tomomi Matsui, and Ryuhei Miyashiro. A 2.75-approximation algorithm for the unconstrained traveling tournament problem. Annals of Operations Research, 218(1):237-247, 2014. [Kendall et al., 2010] Graham Kendall, Sigrid Knust, Celso C Ribeiro, and Sebasti\u00e1n Urrutia. Scheduling in sports: An annotated bibliography. Computers & Operations Research, 37(1):1-19, 2010. [Lim et al., 2006] Andrew Lim, Brian Rodrigues, and Xing- wen Zhang. A simulated annealing and hill-climbing algorithm for the traveling tournament problem. Eu- ropean Journal of Operational Research, 174(3):1459- 1478, 2006. [Miyashiro et al., 2012] Ryuhei Miyashiro, Tomomi Matsui, and Shinji Imahori. An approximation algorithm for the traveling tournament problem. Annals of Operations Re- search, 194(1):317-324, 2012. [Rasmussen and Trick, 2008] Rasmus V Rasmussen and Michael A Trick. Round robin scheduling-a survey. Eu- ropean Journal of Operational Research, 188(3):617-636, 2008. [Thielen and Westphal, 2011] Clemens Thielen and Stephan Westphal. Complexity of the traveling tournament prob- lem. Theoretical Computer Science, 412(4):345-351, 2011. [Thielen and Westphal, 2012] Clemens Thielen and Stephan Westphal. Approximation algorithms for TTP(2). Math- ematical Methods of Operations Research, 76(1):1-20, 2012. [Trick, 2021] Michael Trick. Challenge traveling tournament instances. Accessed: 2021-2-20, 2021. [Westphal and Noparlik, 2014] Stephan Westphal and Karl Noparlik. A 5.875-approximation for the traveling tournament problem. Annals of Operations Research, 218(1):347-360, 2014. [Xiao and Kou, 2016] Mingyu Xiao and Shaowei Kou. An improved approximation algorithm for the traveling tour- nament problem with maximum trip length two. In Pi- otr Faliszewski, Anca Muscholl, and Rolf Niedermeier, editors, 41st International Symposium on Mathematical Foundations of Computer Science, MFCS 2016, August 22-26, 2016 -Krak\u00f3w, Poland, volume 58 of LIPIcs, pages 89:1-89:14. Schloss Dagstuhl -Leibniz-Zentrum f\u00fcr In- formatik, 2016. [Yamaguchi et al., 2011] Daisuke Yamaguchi, Shinji Ima- hori, Ryuhei Miyashiro, and Tomomi Matsui. An im- proved approximation algorithm for the traveling tourna- ment problem. Algorithmica, 61(4):1077-1091, 2011. Proceedings of the Thirtieth International Joint Conference on Artificial Intelligence (IJCAI-21)\n", "annotations": {"author": "[{\"end\":193,\"start\":125},{\"end\":277,\"start\":194}]", "publisher": null, "author_last_name": "[{\"end\":138,\"start\":134},{\"end\":205,\"start\":201}]", "author_first_name": "[{\"end\":133,\"start\":125},{\"end\":200,\"start\":194}]", "author_affiliation": "[{\"end\":192,\"start\":140},{\"end\":276,\"start\":224}]", "title": "[{\"end\":122,\"start\":1},{\"end\":399,\"start\":278}]", "venue": null, "abstract": "[{\"end\":1190,\"start\":401}]", "bib_ref": "[{\"attributes\":{\"ref_id\":\"b2\"},\"end\":1382,\"start\":1361},{\"attributes\":{\"ref_id\":\"b2\"},\"end\":1456,\"start\":1434},{\"attributes\":{\"ref_id\":\"b2\"},\"end\":1482,\"start\":1456},{\"attributes\":{\"ref_id\":\"b2\"},\"end\":1509,\"start\":1482},{\"attributes\":{\"ref_id\":\"b2\"},\"end\":1528,\"start\":1509},{\"end\":3407,\"start\":3386},{\"attributes\":{\"ref_id\":\"b2\"},\"end\":3434,\"start\":3407},{\"attributes\":{\"ref_id\":\"b2\"},\"end\":3576,\"start\":3563},{\"end\":3760,\"start\":3736},{\"attributes\":{\"ref_id\":\"b2\"},\"end\":3781,\"start\":3760},{\"attributes\":{\"ref_id\":\"b2\"},\"end\":3804,\"start\":3781},{\"attributes\":{\"ref_id\":\"b2\"},\"end\":3832,\"start\":3804},{\"attributes\":{\"ref_id\":\"b2\"},\"end\":3864,\"start\":3832},{\"attributes\":{\"ref_id\":\"b2\"},\"end\":3891,\"start\":3864},{\"attributes\":{\"ref_id\":\"b2\"},\"end\":3909,\"start\":3891},{\"attributes\":{\"ref_id\":\"b2\"},\"end\":3957,\"start\":3936},{\"attributes\":{\"ref_id\":\"b2\"},\"end\":3974,\"start\":3957},{\"attributes\":{\"ref_id\":\"b0\"},\"end\":4003,\"start\":3974},{\"attributes\":{\"ref_id\":\"b2\"},\"end\":4032,\"start\":4003},{\"attributes\":{\"ref_id\":\"b2\"},\"end\":4053,\"start\":4032},{\"attributes\":{\"ref_id\":\"b0\"},\"end\":4255,\"start\":4230},{\"attributes\":{\"ref_id\":\"b2\"},\"end\":4282,\"start\":4255},{\"attributes\":{\"ref_id\":\"b1\"},\"end\":4349,\"start\":4333},{\"attributes\":{\"ref_id\":\"b0\"},\"end\":4516,\"start\":4491},{\"attributes\":{\"ref_id\":\"b2\"},\"end\":4634,\"start\":4606},{\"attributes\":{\"ref_id\":\"b2\"},\"end\":4873,\"start\":4846},{\"end\":5126,\"start\":5120},{\"attributes\":{\"ref_id\":\"b2\"},\"end\":5259,\"start\":5231},{\"attributes\":{\"ref_id\":\"b2\"},\"end\":5277,\"start\":5259},{\"attributes\":{\"ref_id\":\"b2\"},\"end\":5633,\"start\":5605},{\"attributes\":{\"ref_id\":\"b2\"},\"end\":5818,\"start\":5805},{\"end\":7902,\"start\":7896},{\"attributes\":{\"ref_id\":\"b2\"},\"end\":9299,\"start\":9271},{\"attributes\":{\"ref_id\":\"b2\"},\"end\":10029,\"start\":10001},{\"attributes\":{\"ref_id\":\"b0\"},\"end\":22738,\"start\":22717},{\"attributes\":{\"ref_id\":\"b2\"},\"end\":23831,\"start\":23818},{\"attributes\":{\"ref_id\":\"b2\"},\"end\":24245,\"start\":24217}]", "figure": "[{\"attributes\":{\"id\":\"fig_0\"},\"end\":25797,\"start\":25653},{\"attributes\":{\"id\":\"fig_1\"},\"end\":25841,\"start\":25798},{\"attributes\":{\"id\":\"fig_2\"},\"end\":26297,\"start\":25842},{\"attributes\":{\"id\":\"fig_3\"},\"end\":26542,\"start\":26298},{\"attributes\":{\"id\":\"fig_4\"},\"end\":26572,\"start\":26543},{\"attributes\":{\"id\":\"fig_5\"},\"end\":26603,\"start\":26573},{\"attributes\":{\"id\":\"fig_6\"},\"end\":26667,\"start\":26604},{\"attributes\":{\"id\":\"fig_7\"},\"end\":26710,\"start\":26668},{\"attributes\":{\"id\":\"fig_8\"},\"end\":26828,\"start\":26711},{\"attributes\":{\"id\":\"fig_9\"},\"end\":26984,\"start\":26829},{\"attributes\":{\"id\":\"tab_0\",\"type\":\"table\"},\"end\":28001,\"start\":26985}]", "paragraph": "[{\"end\":2177,\"start\":1206},{\"end\":2564,\"start\":2179},{\"end\":2719,\"start\":2566},{\"end\":2804,\"start\":2721},{\"end\":3272,\"start\":2806},{\"end\":4054,\"start\":3289},{\"end\":5279,\"start\":4056},{\"end\":5929,\"start\":5295},{\"end\":7051,\"start\":5943},{\"end\":7556,\"start\":7053},{\"end\":7700,\"start\":7558},{\"end\":8894,\"start\":7718},{\"end\":8957,\"start\":8917},{\"end\":9360,\"start\":9014},{\"end\":9601,\"start\":9379},{\"end\":9852,\"start\":9603},{\"end\":9961,\"start\":9854},{\"end\":10110,\"start\":9963},{\"end\":10329,\"start\":10145},{\"end\":10764,\"start\":10331},{\"end\":11262,\"start\":10766},{\"end\":11395,\"start\":11264},{\"end\":11803,\"start\":11397},{\"end\":16393,\"start\":11805},{\"end\":16619,\"start\":16395},{\"end\":16965,\"start\":16621},{\"end\":17305,\"start\":16967},{\"end\":17492,\"start\":17307},{\"end\":18521,\"start\":17494},{\"end\":19451,\"start\":18523},{\"end\":20891,\"start\":19487},{\"end\":21027,\"start\":20893},{\"end\":21779,\"start\":21081},{\"end\":21964,\"start\":21781},{\"end\":22144,\"start\":21966},{\"end\":22289,\"start\":22204},{\"end\":22417,\"start\":22380},{\"end\":22940,\"start\":22459},{\"end\":23026,\"start\":23002},{\"end\":23254,\"start\":23119},{\"end\":23753,\"start\":23275},{\"end\":24400,\"start\":23755},{\"end\":24804,\"start\":24422},{\"end\":25652,\"start\":24819}]", "formula": "[{\"attributes\":{\"id\":\"formula_0\"},\"end\":8916,\"start\":8895},{\"attributes\":{\"id\":\"formula_1\"},\"end\":9013,\"start\":8958},{\"attributes\":{\"id\":\"formula_2\"},\"end\":21080,\"start\":21028},{\"attributes\":{\"id\":\"formula_3\"},\"end\":22203,\"start\":22145},{\"attributes\":{\"id\":\"formula_4\"},\"end\":22379,\"start\":22290},{\"attributes\":{\"id\":\"formula_5\"},\"end\":22458,\"start\":22418},{\"attributes\":{\"id\":\"formula_6\"},\"end\":23001,\"start\":22941},{\"attributes\":{\"id\":\"formula_7\"},\"end\":23118,\"start\":23027}]", "table_ref": null, "section_header": "[{\"attributes\":{\"n\":\"1\"},\"end\":1204,\"start\":1192},{\"attributes\":{\"n\":\"1.1\"},\"end\":3287,\"start\":3275},{\"attributes\":{\"n\":\"1.2\"},\"end\":5293,\"start\":5282},{\"attributes\":{\"n\":\"2\"},\"end\":5941,\"start\":5932},{\"attributes\":{\"n\":\"3.1\"},\"end\":7716,\"start\":7703},{\"attributes\":{\"n\":\"3.2\"},\"end\":9377,\"start\":9363},{\"attributes\":{\"n\":\"4\"},\"end\":10143,\"start\":10113},{\"attributes\":{\"n\":\"5\"},\"end\":19485,\"start\":19454},{\"attributes\":{\"n\":\"6\"},\"end\":23273,\"start\":23257},{\"end\":24420,\"start\":24403},{\"attributes\":{\"n\":\"7\"},\"end\":24817,\"start\":24807},{\"end\":25664,\"start\":25654},{\"end\":25809,\"start\":25799},{\"end\":25863,\"start\":25843},{\"end\":26309,\"start\":26299},{\"end\":26554,\"start\":26544},{\"end\":26584,\"start\":26574},{\"end\":26615,\"start\":26605},{\"end\":26691,\"start\":26669},{\"end\":26737,\"start\":26712},{\"end\":26841,\"start\":26830},{\"end\":26995,\"start\":26986}]", "table": "[{\"end\":28001,\"start\":27356}]", "figure_caption": "[{\"end\":25797,\"start\":25666},{\"end\":25841,\"start\":25811},{\"end\":26297,\"start\":25866},{\"end\":26542,\"start\":26311},{\"end\":26572,\"start\":26556},{\"end\":26603,\"start\":26586},{\"end\":26667,\"start\":26617},{\"end\":26710,\"start\":26696},{\"end\":26828,\"start\":26743},{\"end\":26984,\"start\":26844},{\"end\":27356,\"start\":26997}]", "figure_ref": "[{\"attributes\":{\"ref_id\":\"fig_0\"},\"end\":7050,\"start\":7042},{\"attributes\":{\"ref_id\":\"fig_1\"},\"end\":8488,\"start\":8480},{\"attributes\":{\"ref_id\":\"fig_1\"},\"end\":8597,\"start\":8589},{\"attributes\":{\"ref_id\":\"fig_1\"},\"end\":8691,\"start\":8683},{\"end\":12199,\"start\":12191},{\"attributes\":{\"ref_id\":\"fig_3\"},\"end\":13212,\"start\":13204},{\"attributes\":{\"ref_id\":\"fig_4\"},\"end\":13568,\"start\":13560},{\"attributes\":{\"ref_id\":\"fig_5\"},\"end\":13995,\"start\":13987},{\"end\":14073,\"start\":14057},{\"attributes\":{\"ref_id\":\"fig_5\"},\"end\":14175,\"start\":14167},{\"attributes\":{\"ref_id\":\"fig_5\"},\"end\":15073,\"start\":15065},{\"attributes\":{\"ref_id\":\"fig_6\"},\"end\":15083,\"start\":15075},{\"end\":15172,\"start\":15164},{\"end\":15422,\"start\":15414},{\"attributes\":{\"ref_id\":\"fig_0\"},\"end\":15741,\"start\":15724},{\"attributes\":{\"ref_id\":\"fig_4\"},\"end\":17632,\"start\":17624},{\"attributes\":{\"ref_id\":\"fig_0\"},\"end\":19077,\"start\":19068},{\"attributes\":{\"ref_id\":\"fig_0\"},\"end\":19154,\"start\":19145},{\"end\":19880,\"start\":19872},{\"attributes\":{\"ref_id\":\"fig_0\"},\"end\":21753,\"start\":21744}]", "bib_author_first_name": "[{\"end\":28446,\"start\":28439},{\"end\":29622,\"start\":29620},{\"end\":29634,\"start\":29632},{\"end\":29657,\"start\":29651},{\"end\":29668,\"start\":29667}]", "bib_author_last_name": "[{\"end\":29331,\"start\":29305},{\"end\":29630,\"start\":29623},{\"end\":29649,\"start\":29635},{\"end\":29665,\"start\":29658},{\"end\":29676,\"start\":29669},{\"end\":29684,\"start\":29678}]", "bib_entry": "[{\"attributes\":{\"id\":\"b0\",\"matched_paper_id\":6213439},\"end\":29245,\"start\":28289},{\"attributes\":{\"id\":\"b1\",\"matched_paper_id\":20873682},\"end\":29507,\"start\":29247},{\"attributes\":{\"id\":\"b2\",\"matched_paper_id\":15164823},\"end\":33566,\"start\":29509}]", "bib_title": "[{\"end\":28437,\"start\":28289},{\"end\":29303,\"start\":29247},{\"end\":29618,\"start\":29509}]", "bib_author": "[{\"end\":28449,\"start\":28439},{\"end\":29333,\"start\":29305},{\"end\":29632,\"start\":29620},{\"end\":29651,\"start\":29632},{\"end\":29667,\"start\":29651},{\"end\":29678,\"start\":29667},{\"end\":29686,\"start\":29678}]", "bib_venue": "[{\"end\":29877,\"start\":29829},{\"end\":28464,\"start\":28449},{\"end\":29361,\"start\":29333},{\"end\":29773,\"start\":29686}]"}}}, "year": 2023, "month": 12, "day": 17}